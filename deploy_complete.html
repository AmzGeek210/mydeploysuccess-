<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Deploy Complete</title>
  <style>
    :root{--bg:#ffe0e9;--card:#ffc0cb;--accent:#ff69b4;--muted:#803366}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial}
    body{display:grid;place-items:center;background:linear-gradient(180deg,#ffd6e7 0%, #ffb3c6 100%);color:var(--muted)}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.3));border-radius:16px;padding:36px 44px;box-shadow:0 8px 30px rgba(255,192,203,0.5);text-align:center;max-width:520px}
    .badge{display:inline-grid;place-items:center;width:96px;height:96px;border-radius:999px;background:rgba(255,105,180,0.2);margin:0 auto 18px}
    .check{width:56px;height:56px}
    h1{margin:0;font-weight:600;font-size:28px;color:#000000;} /* สีดำ */
    p{margin:8px 0 0;color:var(--muted)}
    form{margin-top:20px;text-align:left}
    label{display:block;margin:12px 0 4px;font-size:14px;color:#803366}
    input{width:100%;padding:10px;border-radius:8px;border:1px solid #ff69b4;background:#ffe6f0;color:#803366}
    .btn{display:inline-block;margin-top:18px;padding:10px 18px;border-radius:10px;background:var(--accent);border:none;color:white;cursor:pointer}
  </style>
</head>
<body>
  <main class="card" role="main">
    <div class="badge" aria-hidden>
      <svg class="check" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden>
        <circle cx="12" cy="12" r="11" stroke="rgba(255,105,180,0.4)" stroke-width="2"/>
        <path d="M7 12.5l2.8 2.8L17 8.1" stroke="var(--accent)" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
    <h1>deploy complete</h1>
    <p>การปรับใช้งานเสร็จเรียบร้อย — ระบบพร้อมให้ใช้งานแล้ว</p>

    <!-- ฟอร์มกรอกข้อมูล -->
    <form id="contactForm">
      <label for="name">ชื่อ</label>
      <input type="text" id="name" name="name" required />
      
      <label for="phone">เบอร์โทร</label>
      <input type="tel" id="phone" name="phone" required />
      
      <button type="submit" class="btn">ตกลง</button>
    </form>
    <p id="statusMsg"></p>
  </main>

  <script>
    const scriptURL = "https://script.google.com/macros/s/AKfycbwZfPPBeJc4TFJWhZ8UMPP2cXexnTBaKGALK4A5YC4/exec";
    const form = document.getElementById("contactForm");
    const statusMsg = document.getElementById("statusMsg");

    function handleResponse(e) {
      if (e.result === "success") {
        statusMsg.textContent = "บันทึกข้อมูลเรียบร้อย ✅";
        form.reset();
      } else {
        statusMsg.textContent = "เกิดข้อผิดพลาด ❌";
      }
    }

    form.addEventListener("submit", function(ev) {
      ev.preventDefault();
      const name = encodeURIComponent(document.getElementById("name").value);
      const phone = encodeURIComponent(document.getElementById("phone").value);
      const callback = "handleResponse";
      const url = `${scriptURL}?callback=${callback}&name=${name}&phone=${phone}`;
      
      // สร้าง script tag สำหรับ JSONP
      const script = document.createElement("script");
      script.src = url;
      document.body.appendChild(script);
    });
  </script>
</body>
</html>
